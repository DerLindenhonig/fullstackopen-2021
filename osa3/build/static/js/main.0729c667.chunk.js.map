{"version":3,"sources":["services/personService.js","components/person.js","components/persons.js","components/form.js","components/filter.js","components/notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","put","id","delete","Person","person","onDelete","name","number","onClick","Persons","filter","persons","filteredPersons","toLowerCase","includes","map","item","Form","newName","onAddPerson","onSubmit","onNameChange","onNumberChange","value","onChange","type","Filter","onFilterChange","Notification","message","className","content","App","useState","setPersons","setNewName","newNumber","setNewNumber","setFilter","setMessage","useEffect","PersonService","initialPersons","handleEdit","updatedPerson","p","setTimeout","catch","event","target","preventDefault","find","window","confirm","newPerson","concat","error","finally","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0729c667.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = newObject => {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = newObject => {\r\n    const request = axios.delete(`${baseUrl}/${newObject.id}`)\r\n    return request.then(response => response)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Person = ({ person, onDelete }) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number}\r\n            <button onClick={() => onDelete(person)}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from \"react\";\r\nimport Person from \"./person\";\r\n\r\nconst Persons = ({ filter, persons, onDelete }) => {\r\n    const filteredPersons = persons.filter(person =>\r\n        person.name?.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            {filteredPersons.map((item, id) => (\r\n                <Person key={id} person={item} onDelete={onDelete} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import React from 'react'\r\n\r\nconst Form = ({ newName, number, onSubmit: onAddPerson, onNameChange, onNumberChange }) => {\r\n    return (\r\n        <form onSubmit={onAddPerson}>\r\n            <div>name: <input value={newName} onChange={onNameChange}/></div>\r\n            <div>number: <input value={number} onChange={onNumberChange}/></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from \"react\";\r\n\r\nconst Filter = ({ onFilterChange, filter }) => {\r\n    return (\r\n        <div>\r\n            filter shown with:\r\n            <input onChange={onFilterChange} value={filter} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={message.type}>{message.content}</div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonService from './services/personService'\nimport Persons from './components/persons'\nimport Form from './components/form'\nimport Filter from './components/filter'\nimport Notification from './components/notification'\nimport './index.css'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [message, setMessage] = useState(null)\n\n    useEffect(() => {\n        PersonService.getAll().then(initialPersons => {\n            setPersons(initialPersons)\n        })\n    }, [])\n\n    const handleAddPerson = event => {\n        event.preventDefault()\n        const person = persons.find(person => person.name === newName)\n        if (person) {\n            const response = window.confirm(\n                `${person.name} is already added to phonebook, replace the old number with a new one?`\n            )\n            if (response)\n                return handleEdit({ name: newName, number: newNumber, id: person.id })\n        }\n\n        const newPerson = { name: newName, number: newNumber }\n        PersonService.create(newPerson)\n            .then(response => {\n                setPersons(persons.concat(response))\n                setNewName('')\n                setNewNumber('')\n                setMessage({\n                    content: `${newPerson.name} was added`,\n                    type: 'successMessage'\n                })\n                setTimeout(() => setMessage(null), 5000)\n            })\n            .catch(error => {\n                setMessage({ content: error.response.data.error, type: 'errorMessage' })\n                setTimeout(() => setMessage(null), 5000)\n            })\n    }\n\n    const handleEdit = person => {\n        const newObject = PersonService.update(person)\n        newObject\n            .then(updatedPerson => {\n                setPersons(persons.map(p => (p.id !== updatedPerson.id ? p : updatedPerson)))\n                setNewName('')\n                setNewNumber('')\n                setMessage({\n                    content: `Number of ${person.name} was replaced`,\n                    type: 'successMessage'\n                })\n                setTimeout(() => setMessage(null), 5000)\n            })\n            .catch(() => {\n                setMessage({\n                    content: `Number of ${person.name} was not replaced`,\n                    type: 'errorMessage'\n                })\n                setTimeout(() => setMessage(null), 5000)\n            })\n    }\n\n    const handleDelete = person => {\n        const response = window.confirm(`Delete ${person.name}'?`)\n        if (response)\n            PersonService.remove(person)\n                .then(() => {\n                    setMessage({\n                        content: `The person ${person.name} was deleted`,\n                        type: 'successMessage'\n                    })\n                    setTimeout(() => setMessage(null), 5000);\n                })\n                .catch(() => {\n                    setMessage({\n                        content: `The person ${person.name} was already deleted from server`,\n                        type: 'errorMessage'\n                    })\n                    setTimeout(() => setMessage(null), 5000)\n                })\n                .finally(() => {\n                    const newPersons = persons.filter(p => p.id !== person.id)\n                    setPersons(newPersons)\n                })\n    }\n\n    const handleNameChange = event => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = event => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = event => {\n        setFilter(event.target.value)\n    }\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Notification message={message}/>\n            <Filter filter={filter} onFilterChange={handleFilterChange}/>\n            <h2>Add a new</h2>\n            <Form onSubmit={handleAddPerson}\n                newName={newName}\n                onNameChange={handleNameChange}\n                number={newNumber}\n                onNumberChange={handleNumberChange}/>\n            <h2>Numbers</h2>\n            <Persons persons={persons} filter={filter} onDelete={handleDelete} />\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}